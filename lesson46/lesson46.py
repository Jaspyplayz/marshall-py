# Lesson 46
def next_value(num):
    if num % 2 == 0:
        return num // 2 
    else:
        return (num * 3) + 1
    
def sequence_maker(start, table):
    if start in table:
        return table[start]
    else:
        sequence = [start]
        size = 1

        while sequence[-1] != 1 and sequence[-1] not in table:

            new_num = next_value(sequence[-1])

            if new_num in table:

                size += table[new_num]
                break

            else:

                sequence.append(new_num)
                size += 1

        for i in range(len(sequence)):

            table[sequence[i]] = size - i

        return size 
    
memory = {1:1, 2:2}

for start in range(3, 1000000):
    current_length = sequence_maker(start, memory)

answer = 0
longest_length  = 0
for key in range(1, 1000000):
    if memory[key] > longest_length:
        answer = key
        longest_length = memory[key]

print(f"Longest Sequence has a length of {longest_length} generated by {answer}.")

